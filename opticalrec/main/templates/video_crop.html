{% extends "base_template.html" %}

{% block js %}
{% load static %}
    <link rel="stylesheet" href="{% static 'css/cropper.css' %}">
    <script type="text/javascript" src="{% static 'javascript/cropper.js' %}"></script>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>

    <style>
        .container {
          margin: 20px auto;
          max-width: 50%;
        }
    
        img {
          max-width: 100%;
        }
        .not-visible {
          display: none;
        }
      </style>
{% endblock %}

{% block content %}
<div id="alert-box"></div>
<form action="{% url 'video_crop_display' frame.video.id%}" id="crop-form">
  {% csrf_token %}
  {{form.as_hidden}}
</form>
<div class="container">
    <div class="" id="hide-image">
      <div class="img-container">
        <img src={{frame.frameFile.url}} id="image">
      </div>
      </div>
  <div id="replace"></div>
  <div id="label-form" class="not-visible">
    <span id="error"></span>
      <label for="label">Field Label: </label>
      <input type="text" id="label" name="label" required />
  </div>
  
  <button class="btn btn-primary mt-3 not-visible" id="crop-btn">Crop</button>
  <button onclick="location.href='{% url 'video_crop_display' frame.video.id frame.frameNum %}'" class="btn btn-primary mt-3 not-visible" id="new-prev-btn">New Frame</button>
  <button onclick="location.href='{% url 'import_video_tensor' frame.video.id %}'" class="btn btn-primary mt-3 not-visible" id="fin-btn">Finish</button>
  <button class="btn btn-primary mt-3 not-visible" id="confirm-btn">Confirm</button>
  <button class="btn btn-primary mt-3 not-visible" id="cnf-fin-btn">Finish</button>
  <button class="btn btn-primary mt-3 not-visible" id="reject-btn">Reject</button>
</div>
<script src="{% static 'javascript/crop_image.js' %}"></script>
{% endblock %}
