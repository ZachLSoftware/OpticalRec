{% extends "base_template.html" %}
{% block js %}
{% load static %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
{% endblock %}
{%block content%}
<h1>Dashboard</h1>
{% if user.is_authenticated %}
  <div class="content">
    {% for vid in videos %}
    <h1>{{vid}}</h1>
      {% for key, value in data.items %}
        {% for item in value%}
          {% for k, v in item.items %}
    <table class="table table-striped">
      <caption style = "caption-side:top;">{{ k }}</caption>
      <thead> 
        <tr>
          <th scope="col">Value</th>
          <th scope="col">Difference</th>
          <th scope="col">Timestamp</th>
        </tr>
      </thead>
      <tbody>
        {% for data in v %}
        <tr>
          <td> {{data.value}} </td>
          <td> {{data.valueChange}}</td>
          <td> {{data.timeStamp}}</td>
        </tr>
            {% endfor %}
          {% endfor %}
        {% endfor %}
        {% endfor %}
      </tbody>
    </table>
    {% empty %}
    <h2>No Data Found</h2>
    {% endfor %}

  </div>
{% else %}
  <p><a href="{% url 'profile' %}">You need to be logged in</a></p>
{% endif %}
  <p><a href="{% url 'index' %}">Return to home</a></p>
{% endblock %}